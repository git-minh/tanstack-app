# Task ID: 48
# Title: AI Generation Integration
# Status: pending
# Dependencies: 46, 47
# Priority: medium
# Description: Integrate design references with existing AI project generation
# Details:
Update features/ai-generation/components/generate-dialog.tsx to add 'Import Design Reference' feature with dropdown showing saved references. Add prompt type selector (full-page, component, design system) and button to insert selected clone prompt into textarea. Update components/global-search.tsx to include design references in search results (type: 'design-reference'). Add 'Design References' navigation item to sidebar-data.tsx with Palette icon. Update dashboard to add 'Recent Design References' card showing last 3 analyzed sites. Ensure all integrations work seamlessly without breaking existing features. Estimated time: 1.5 hours.

# Test Strategy:
Test prompt insertion into AI generation, verify global search finds references, test navigation item works, verify dashboard card displays correctly, test no breaking changes to existing features

# Subtasks:
## 1. Update generate-dialog with Import Design Reference feature [pending]
### Dependencies: None
### Description: Add design reference selector to AI generation dialog
### Details:
In generate-dialog.tsx, add section 'Import Design Reference' with: dropdown showing user's saved references (by siteName), prompt type radio group (full-page/component/design-system), 'Insert Prompt' button. Fetch references with useQuery.

## 2. Implement prompt type selector and insertion logic [pending]
### Dependencies: 48.1
### Description: Add UI for choosing prompt type and inserting into textarea
### Details:
Radio buttons for prompt type. On 'Insert Prompt' click: get selected reference, extract prompt based on type (fullPage/components[0]/designSystem), append to textarea value with newline separator. Show success toast.

## 3. Update global-search to include design references [pending]
### Dependencies: None
### Description: Add design references to Cmd+K search results
### Details:
In global-search.tsx, add api.designReferences.searchDesignReferences to search. Map results with type: 'design-reference', show siteName, url, style badge. Navigate to /design-references/[displayId] on select.

## 4. Add Design References to sidebar navigation [pending]
### Dependencies: None
### Description: Add nav item to sidebar-data.tsx
### Details:
In sidebar-data.tsx navGroups, add { title: 'Design References', url: '/design-references', icon: Palette } after Projects. Import Palette from lucide-react.

## 5. Update dashboard with Recent Design References card [pending]
### Dependencies: None
### Description: Add card showing last 3 analyzed sites
### Details:
In dashboard.tsx, add card 'Recent Design References'. Query last 3 references sorted by createdAt desc. Show thumbnail, site name, style, 'View All' link to /design-references. Empty state if none.

## 6. Test all integrations without breaking changes [pending]
### Dependencies: 48.1, 48.2, 48.3, 48.4, 48.5
### Description: Verify seamless integration across all features
### Details:
Test: import prompt in AI generation works, global search finds references, sidebar nav works, dashboard card displays correctly, no console errors, existing features unchanged, mobile responsive.

