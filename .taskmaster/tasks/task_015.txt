# Task ID: 15
# Title: Autumn Pricing and Billing Integration
# Status: done
# Dependencies: 14
# Priority: high
# Description: Add subscription billing with usage-based limits for AI generation using Autumn
# Details:
Install @autumnhq/autumn-js. Create pricing page with Free (5 generations) and Pro ($9/month unlimited) tiers. Add usage tracking to Convex. Implement checkout flow. Add upgrade prompts for free users at limit. Configure VITE_AUTUMN_API_KEY. Handle subscription webhooks. Time estimate: 1 hour. Priority 3 for hackathon.

# Test Strategy:
Test checkout flow in test mode, verify usage limits enforced, confirm subscription status updates correctly

# Subtasks:
## 1. Install Autumn package and create pricing page [done]
### Dependencies: None
### Description: Add Autumn billing SDK and create pricing page component
### Details:
Run: cd apps/web && pnpm add @autumnhq/autumn-js. Create apps/web/src/routes/_authenticated/pricing.tsx with pricing tiers: Free (5 AI generations/month) and Pro ($9/month unlimited). Design pricing comparison table with feature lists and CTA buttons

## 2. Add usage tracking to Convex [done]
### Dependencies: 15.1
### Description: Create aiGenerations counter and usage query in Convex backend
### Details:
Add aiGenerationCount field to users table in schema.ts. Create query getUserUsage returning current count and tier limit. Increment counter in generateProject action. Add subscription tier field to users (free/pro). Create mutation to update subscription status

## 3. Implement usage limits and upgrade prompts [done]
### Dependencies: 15.2
### Description: Add usage limit checks and upgrade UI to GenerateDialog
### Details:
Check usage before AI generation. Show upgrade prompt when free users hit 5 generation limit. Add "Upgrade to Pro" button in GenerateDialog for free users near limit. Integrate Autumn checkout session creation. Configure VITE_AUTUMN_API_KEY. Handle successful checkout redirect

