# Task ID: 36
# Title: Chat Frontend UI
# Status: done
# Dependencies: 35
# Priority: high
# Description: Build complete chat interface with session sidebar, message area, input component, and empty state
# Details:
Create routes/_authenticated/chat.tsx with sidebar layout. Build components/features/chat/chat-session-list.tsx (new chat button, session switching, rename/delete). Build chat-messages.tsx (role-based styling, auto-scroll). Build chat-input.tsx (auto-resize textarea, credit indicator, context toggle). Build chat-empty-state.tsx with suggested prompts.

# Test Strategy:
Test session creation/switching, test message sending, verify UI responsive on mobile, test keyboard shortcuts

# Subtasks:
## 1. Create chat route with layout [done]
### Dependencies: None
### Description: Build main chat page route with sidebar layout structure
### Details:
Create routes/_authenticated/chat.tsx with two-column layout: left sidebar (30% width) for session list, right main area (70%) for active chat. Use ResizablePanel from shadcn/ui for adjustable split. Add state management for activeSessionId. Handle empty state when no session selected.

## 2. Build chat session list component [done]
### Dependencies: 36.1
### Description: Create session sidebar with new chat button, session items, and actions
### Details:
Create components/features/chat/chat-session-list.tsx: Display list of sessions using useSuspenseQuery(api.chatSessions.getSessions), "New Chat" button at top, clickable session items showing title and timestamp, hover actions for rename and delete, highlight active session, handle empty state with prompt to start first chat.

## 3. Build chat messages area component [done]
### Dependencies: 36.1
### Description: Create message display area with role-based styling and auto-scroll
### Details:
Create components/features/chat/chat-messages.tsx: Fetch messages with useSuspenseQuery(api.chatMessages.getMessages, {sessionId}), display messages in scrollable container, user messages right-aligned with blue background, assistant messages left-aligned with gray background, auto-scroll to bottom on new messages, show timestamps on hover, loading skeleton while fetching.

## 4. Build chat input component [done]
### Dependencies: 36.1
### Description: Create message input with auto-resize, credit indicator, and context toggle
### Details:
Create components/features/chat/chat-input.tsx: Auto-resizing Textarea (max 5 lines), Send button with Loader2 icon when loading, disabled when no credits or empty text, credit cost indicator "3 credits per message", keyboard shortcuts (Enter to send, Shift+Enter for newline), checkbox for "Include my projects/tasks as context", use useAction(api.chat.sendChatMessage) for sending, show error toasts on failure.

## 5. Create chat empty state component [done]
### Dependencies: 36.1
### Description: Build empty state with suggested prompts and quick start guide
### Details:
Create components/features/chat/chat-empty-state.tsx: Display when no session is selected, show welcome message "Start a new conversation", suggested prompt buttons: "Help me plan a project", "What should I work on next?", "Explain my current tasks", clicking a prompt creates new session and sends message, include brief explanation of context toggle feature, visually appealing with icon and centered layout.

